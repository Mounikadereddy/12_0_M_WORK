# The algorithm for CQ 235

The dependent to be sent to awards is filtered based on the grant/ denial data in the DependencyDecision response.

Steps:

1. The DependencyDecision responses for the  dependent in the
request object is extracted and stored in a list.
1. The Dependency decision list is sorted based on decision date
and event date so that the grant/denial records are adjacent.
1. This list is traversed and a DecisionDetails list is created.
1. The DecisionDetail object has the
    * start decision type
    * start status type
    * event start date
    * end decision type
    * end status type
    * decision date
    * event end date.
    * birth date

1. For any matching grant/denial, the event end date is set with
the event date of the denial decision. Otherwise,  event end date is computed.  A match
is any grant followed by a denial.

1. If a grant is not followed by a denial, the event end date is computed as follows:
    * For a minor child grant, the event end date is set to the child's 18th birthday.
    * For disabled children ("RATHEL"), 200 years are added to the birthday and set as event end date.
    * For "DEPEST", 200 years are added to the birthday and set as event end date.

1. Now the request object is compared with the decision details objects.
If decision detail object and the request object has the same decision type and status type,
and the event date of the request is on or between the event start date and end date of the
decision detail object, the request object is filtered out.
Otherwise the request object is added to the list that will be sent to Awards.

The process is repeated for the next request object.

